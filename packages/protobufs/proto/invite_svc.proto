syntax = "proto3";

enum PlayAs {
    WHITE = 0;
    BLACK = 1;
    RANDOM = 2;
}

message InviteLinkIdMsg {
    string inviteLinkId = 1;
}

message CreateInviteLinkRequest {
    string userId = 1;
    optional uint32 time = 2;
    optional uint32 increment = 3;    
    optional PlayAs playAs = 4;
}

message ConsumeInviteLinkRequest {
    string inviteLinkId = 1;
    string userId = 2;
}

message ConsumeInviteLinkResponse {
    string gameId = 1;
}

message InvalidateLinkMessage {
    string userId = 1;
}

service InviteService {
    rpc CreateInviteLink(CreateInviteLinkRequest) returns (InviteLinkIdMsg) {}
    rpc ConsumeInviteLink(ConsumeInviteLinkRequest) returns (ConsumeInviteLinkResponse) {}
    // rpc invalidateInviteLink(InvalidateLinkMessage) returns (InviteSvcEmptyMessage) {}
}
