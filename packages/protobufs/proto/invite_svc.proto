syntax = "proto3";

import "game_svc.proto";

message EmptyMessage {}

message CreateInviteLinkMessage {
    string userId = 1;
    GameSettingsMessage settings = 2;
}

message ConsumeInviteLinkMessage {
    string userId = 1;
    string inviterId = 2;
}

message InviteLinkCreatedMessage {
    string userId = 1;
}

message InviteLinkConsumedMessage {
    string gameId = 1;
}

message InvalidateLinkMessage {
    string userId = 1;
}

service InviteService {
    rpc createInviteLink(CreateInviteLinkMessage) returns (InviteLinkCreatedMessage) {}
    rpc consumeInviteLink(ConsumeInviteLinkMessage) returns (GameCreatedMessage) {}
    rpc invalidateInviteLink(InvalidateLinkMessage) returns (EmptyMessage) {}
}
